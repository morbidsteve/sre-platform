---
# -- Developer-facing values (what app teams configure) --
app:
  # Application name, used for resource naming
  name: ""
  # Owning team name, used for labels and RBAC
  team: ""
  image:
    # Container image repository (must be from harbor.sre.internal)
    repository: ""
    # Image tag (must be pinned, never use "latest")
    tag: ""
    pullPolicy: IfNotPresent
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 512Mi
  # Command to run
  command: []
  # Arguments to command
  args: []
  # Environment variables
  env: []

# -- Schedule --
schedule:
  # Cron expression (required)
  cron: ""
  # Timezone (optional, requires K8s 1.27+)
  timezone: ""
  # Number of successful jobs to keep
  successfulJobsHistoryLimit: 3
  # Number of failed jobs to keep
  failedJobsHistoryLimit: 3
  # Concurrency policy: Allow, Forbid, or Replace
  concurrencyPolicy: "Forbid"
  # Deadline in seconds for starting the job if it misses its scheduled time
  startingDeadlineSeconds: 300
  # Maximum time in seconds for a job to complete
  activeDeadlineSeconds: 3600
  # Number of retries before marking the job as failed
  backoffLimit: 3
  # Restart policy: Never or OnFailure
  restartPolicy: "Never"

# -- Platform integration --
serviceAccount:
  create: true

serviceMonitor:
  enabled: false
  interval: "30s"
  port: 9090
  path: /metrics

networkPolicy:
  enabled: true
  # Additional egress rules beyond the defaults
  additionalEgress: []
